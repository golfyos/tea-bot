(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(21),c=a.n(o),s=(a(59),a(11)),i=a(12),l=a(14),u=a(13),d=a(15),m=(a(61),a(112)),p=a(110),h=a(111),E=a(113),g=a(114),f=a(115),v=a(129),w=a(116),b=a(117),y=a(118),O=a(77),j=a(126),A=a(119),x=a(120),k=a(121),M=a(122),C=a(78),N=a(123),B=a(124),S=a(35),L=a(29),D=(a(67),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).toggleModal=function(){e.setState({isModalLogin:!e.state.isModalLogin})},e._onUsernameChange=function(){e.setState({username:!e.state.username})},e._onPasswordChange=function(){e.setState({password:!e.state.password})},e.state={isOpen:!0,isLogin:!1,isModalLogin:!1,user_info:{username:"",password:"",isValid:!1}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{fixed:"top",color:"light",light:!0,expand:"md"},r.a.createElement(h.a,null,r.a.createElement(m.a,{className:"nav-link",to:"/"},r.a.createElement("img",{alt:"cat",width:"100",height:"50",src:a(69)}))),r.a.createElement(E.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement(m.a,{className:"nav-link",to:"/list_order"},"LIST")),r.a.createElement(f.a,null,r.a.createElement(m.a,{className:"nav-link",to:"/addprice"},"ADD PRICE")),r.a.createElement(f.a,null,r.a.createElement(m.a,{className:"nav-link",to:"/command"},"COMMAND")))),r.a.createElement(E.a,{isOpen:this.state.isLogin},r.a.createElement(g.a,null,r.a.createElement(v.a,{nav:!0,inNavbar:!0},r.a.createElement(w.a,{nav:!0,caret:!0},"NAME"),r.a.createElement(b.a,{right:!0},r.a.createElement(y.a,null,"Your Profile"),r.a.createElement(y.a,null,"Setting"),r.a.createElement(y.a,{divider:!0}),r.a.createElement(y.a,null,"Logout"))))),r.a.createElement(E.a,{isOpen:!this.state.isLogin},r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement(O.a,{onClick:this.toggleModal,outline:!0,color:"primary"},"Login")))),r.a.createElement(j.a,{toggle:this.toggleModal,isOpen:this.state.isModalLogin,backdrop:!0},r.a.createElement(A.a,{toggle:this.toggleModal},"LOGIN FORM"),r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(M.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement(S.b,null))),r.a.createElement(N.a,{valid:this.state.user_info.isValid,onChange:this._onUsernameChange,type:"text",placeholder:"Username"})),r.a.createElement("br",null),r.a.createElement(k.a,null,r.a.createElement(M.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement(S.a,null))),r.a.createElement(N.a,{valid:this.state.user_info.isValid,onChange:this._onPasswordChange,type:"password",placeholder:"Password"}))),r.a.createElement(B.a,null,r.a.createElement(O.a,{color:"primary"},"Login"),r.a.createElement(O.a,{color:"warning",onClick:this.toggleModal},"Cancel"))))}}]),t}(n.Component)),I=Object(L.b)(function(e){return{isLogin:e.auth.isLogin}},function(e){return{onSubmitLogin:function(t){e(function(e){return{type:"USER_LOGIN",payload:e}}(t))}}})(D),T=a(7),R=a.n(T),Y=a(16),U=a(19),H=a.n(U),G="http://90648d29.ngrok.io",J=(a(100),G+"/api/v1/send/message"),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={msg:""},a._sendMessage=Object(Y.a)(R.a.mark(function e(){var t,n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={message:a.state.msg},n={headers:{"Content-Type":"application/json"}},a.setState({msg:""}),e.next=5,H.a.post(J,t,n).catch(function(e){return console.log("error: ",e)});case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}},e,this)})),a._onChangeMessage=function(e){a.setState({msg:e.target.value})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sendmsg"},r.a.createElement(k.a,null,r.a.createElement(N.a,{className:"textarea-size",onChange:this._onChangeMessage,value:this.state.msg,type:"textarea",placeholder:"Enter your text..."}),r.a.createElement(M.a,{addonType:"append"},r.a.createElement(O.a,{color:"success",onClick:this._sendMessage},"Send Message"))))}}]),t}(n.Component),F=a(125),W=(a(102),G+"/api/v1/listorder"),Z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).componentDidMount=Object(Y.a)(R.a.mark(function t(){var a,n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.get(W,{});case 2:a=t.sent,n=a.data.orders,console.log("fetch: ",n),e.setState({orders:n,isLoading:!1});case 6:case"end":return t.stop()}},t,this)})),e.state={orders:[],isLoading:!0},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.orders.map(function(e,t){return r.a.createElement("li",{key:t},e.orderName," [",e.name,"]")});return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(F.a,{type:"grow",color:"primary"}),r.a.createElement(F.a,{type:"grow",color:"secondary"}),r.a.createElement(F.a,{type:"grow",color:"success"}),r.a.createElement(F.a,{type:"grow",color:"danger"}),r.a.createElement(F.a,{type:"grow",color:"warning"})):0===e.length?r.a.createElement("div",{className:"order-container"},"No current order just now!"):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"order-container"},r.a.createElement("ol",{className:"list-order"},e)))}}]),t}(n.Component),X=a(53),Q=a(27),z=a(28),V=G+"/api/v1/send/message",q=G+"/api/v1/addprice",K=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).componentDidMount=Object(Y.a)(R.a.mark(function t(){var a;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("props:: ",e.props),e.props.location.state&&(a=e.props.location.state.data,e.setState({orders:a}));case 2:case"end":return t.stop()}},t,this)})),e.onAddPrice=function(t,a){var n=t.target.value;e.setState(function(e){return{prices:Object(z.a)({},e.prices,Object(Q.a)({},a,n))}})},e.sendPrice=Object(Y.a)(R.a.mark(function t(){var a,n,r,o,c,s,i;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.prices,console.log(a),n=1,r=0,o=e.state.orders.map(function(e){var t=a[e._id];return r+=parseInt(t),"".concat(n++,") ").concat(e.orderName," -> [").concat(e.name,"] = \udbc0\udc50").concat(t,"\u0e3f ")}),c=o.join("\n"),c+="\n\udbc0\udcb4 total: ".concat(r,"\u0e3f"),s={message:c},i={headers:{"Content-Type":"application/json"}},t.next=11,H.a.post(V,s,i);case 11:case"end":return t.stop()}},t,this)})),e.onSendPrice=Object(Y.a)(R.a.mark(function t(){var a,n,r;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={data:{}},n=Object(X.a)(e.state.orders),r=n.map(function(t){var a=t._id;return t.price=e.state.prices[a],t}),a.data.orders=r,a.data.id=e.props.location.state.id,H.a.post(q,a,{headers:{"Content-Type":"application/json"}});case 6:case"end":return t.stop()}},t,this)})),e.isBlankPriceField=function(){var t=e.state,a=t.prices,n=t.orders;if(n.length>Object.keys(a).length)return!0;if(n.length===Object.keys(a).length&&0!==n.length&&0!==Object.keys(a)){for(var r in a)if(""===a[r])return!0;return!1}return!0},e.state={orders:[],prices:{},isLoading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.orders.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null," ",t.orderName," [",t.name,"]"),r.a.createElement("td",null,r.a.createElement(N.a,{onChange:function(a){return e.onAddPrice(a,t._id)},placeholder:"Amount",type:"number",step:"1",style:{maxWidth:150},min:0})),r.a.createElement("td",null,r.a.createElement(M.a,{addonType:"append"},"\u0e3f")))}),a=this.isBlankPriceField()?r.a.createElement(O.a,{outline:!0,color:"info",disabled:!0},"Send Price"):r.a.createElement(O.a,{color:"info",onClick:this.onSendPrice},"Send Price");return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(F.a,{color:"primany"})):r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,t),a))}}]),t}(n.Component),_=(a(104),G+"/api/v1/summary"),$=G+"/api/v1/howto",ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDisabled:!1},a._onSummaryClick=Object(Y.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a._setDisabledAwhile(),e.next=3,H.a.get(_,{});case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}},e,this)})),a._onHowtoClick=Object(Y.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a._setDisabledAwhile(),e.next=3,H.a.get($,{});case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}},e,this)})),a._setDisabledAwhile=Object(Y.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({isDisabled:!0});case 2:setTimeout(function(){a.setState({isDisabled:!1})},3e3);case 3:case"end":return e.stop()}},e,this)})),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"command-list"},r.a.createElement("div",null,r.a.createElement(O.a,{disabled:this.state.isDisabled,onClick:this._onHowtoClick,style:te.buttonStyles,color:"primary"},"HOW TO")),r.a.createElement("div",null,r.a.createElement(O.a,{disabled:!0,style:te.buttonStyles,color:"success"},"START ORDER")),r.a.createElement("div",null,r.a.createElement(O.a,{disabled:this.state.isDisabled,onClick:this._onSummaryClick,style:te.buttonStyles,color:"info"},"SUMMARY")),r.a.createElement("div",null,r.a.createElement(O.a,{disabled:!0,style:te.buttonStyles,color:"warning"},"END ORDER")))}}]),t}(n.Component),te={buttonStyles:{marginTop:"20px",width:"150px"}},ae=ee,ne=G+"/api/v1/history/orders",re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={restaurant:[],isLoading:!0},a.componentDidMount=Object(Y.a)(R.a.mark(function e(){var t,n,r,o,c,s,i,l,u,d,m,p,h,E;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get(ne);case 2:for(t=e.sent,console.log("result: ",t),n=t.data.data,r=[],console.log("orders",n),o=!0,c=!1,s=void 0,e.prev=10,i=n[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,d=u.order,m={id:u._id,name:d,orders:u.orders},""===d&&(p=new Date(u.timestamp),h=[p.getHours(),p.getMinutes(),p.getSeconds()],E=[p.getDate(),p.getMonth()+1,p.getFullYear()],d=E.join("/")+"\n"+h.join(":"),m.name=d),r.push(m);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),c=!0,s=e.t0;case 18:e.prev=18,e.prev=19,o||null==i.return||i.return();case 21:if(e.prev=21,!c){e.next=24;break}throw s;case 24:return e.finish(21);case 25:return e.finish(18);case 26:a.setState({restaurant:r,isLoading:!1});case 27:case"end":return e.stop()}},e,this,[[10,14,18,26],[19,,21,25]])})),a.goToOrderHistory=function(e,t){var n=a.props.location.pathname+"/order";a.props.history.push(n,{data:t,id:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.restaurant.map(function(t){return r.a.createElement(O.a,{onClick:function(){return e.goToOrderHistory(t.id,t.orders)},color:"primary",size:"lg",block:!0},t.name)});return console.log(this.state.restaurant),console.log("props",this.props),this.state.isLoading?r.a.createElement("div",null,r.a.createElement(F.a,{type:"grow",color:"primary"}),r.a.createElement(F.a,{type:"grow",color:"secondary"}),r.a.createElement(F.a,{type:"grow",color:"success"}),r.a.createElement(F.a,{type:"grow",color:"danger"})):r.a.createElement("div",null,t.length>0?t:r.a.createElement("div",null,"No order today!"))}}]),t}(n.Component),oe=a(127),ce=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement("div",{className:"App-content"},r.a.createElement(oe.a,{exact:!0,path:"/",component:P}),r.a.createElement(oe.a,{exact:!0,path:"/list_order",component:Z}),r.a.createElement(oe.a,{exact:!0,path:"/addprice",component:re}),r.a.createElement(oe.a,{exact:!0,path:"/addprice/order",component:K}),r.a.createElement(oe.a,{exact:!0,path:"/command",component:ae})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(128),ie=a(22),le=a(51),ue={isLogin:!1,username:"",password:""},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return Object(z.a)({},e,{username:t.payload.username,password:t.payload.password,isLogin:!0});default:return e}},me=Object(ie.combineReducers)({auth:de}),pe=a(52),he=Object(ie.createStore)(me,Object(pe.composeWithDevTools)(Object(ie.applyMiddleware)(le.a))),Ee=(a(107),r.a.createElement(L.a,{store:he},r.a.createElement(se.a,null,r.a.createElement(ce,null))));c.a.render(Ee,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){e.exports=a(109)},59:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){},69:function(e,t){e.exports="data:image/png;base64,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"}},[[54,2,1]]]);
//# sourceMappingURL=main.3591d680.chunk.js.map